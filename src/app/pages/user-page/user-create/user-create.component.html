<ion-header>
    <ion-toolbar>
        <ion-title>
            Ajouter un utilisteur
        </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div [formGroup]="formGroup" class="ion-padding">
        <ion-grid>
            <ion-row class="ion-align-items-center ion-justify-content-start">
                <ion-col [size]="12" [sizeMd]="12">
                    <ion-item>
                        <!--                appForceFloatingLabel-->
                        <ion-label position="floating">Type D'utilisateur</ion-label>
                        <app-role-picker formControlName="roles"></app-role-picker>
                    </ion-item>
                    <app-form-errors [control]="controls.roles"></app-form-errors>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col [size]="12" class="ion-no-padding ion-no-margin">
                    <app-person-create
                        #personCreateComponent
                        formControlName="identite"
                        [role]="selectedRole|async"
                    ></app-person-create>
                </ion-col>
                <ion-col [size]="12" [sizeMd]="4">
                    <ion-item>
                        <ion-label position="floating">Nom D'Utilisateur</ion-label>
                        <ion-input type="text" formControlName="username"
                                   [appMask]="inputMasks.username"></ion-input>
                    </ion-item>
                    <app-form-errors [control]="controls.username"></app-form-errors>
                </ion-col>
                <ion-col [size]="12" [sizeMd]="4">
                    <ion-item>
                        <ion-label position="floating">Mots De Passe</ion-label>
                        <ion-input type="text" formControlName="password"></ion-input>
                    </ion-item>
                    <app-form-errors [control]="controls.password"></app-form-errors>
                </ion-col>
                <ion-col [size]="12" [sizeMd]="4">
                    <ion-item>
                        <ion-label position="floating">Confirmation Mots De Passe</ion-label>
                        <ion-input type="text" formControlName="password_conf"></ion-input>
                    </ion-item>
                    <app-form-errors [control]="controls.password_conf"></app-form-errors>
                </ion-col>
            </ion-row>
            <ion-row class="ion-justify-content-center">
                <ion-col [size]="8" [sizeMd]="4">
                    <div class="h-full flex justify-center items-center">
                        <ion-button
                            [disabled]="loading"
                            (click)="onSubmit(); personCreateComponent.onSubmit()"
                        >soumettre
                            <ion-progress-bar type="indeterminate" *ngIf="loading"></ion-progress-bar>
                        </ion-button>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>
<!--
<ion-col [size]="12" [sizeMd]="4">
    <ion-item>
        <ion-label position="floating">Confirmation Mots De Passe</ion-label>
        <ion-input type="text" formControlName="password_conf"></ion-input>
    </ion-item>
    <app-form-errors [control]="controls.password_conf"></app-form-errors>
</ion-col>-->
